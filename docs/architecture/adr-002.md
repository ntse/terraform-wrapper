## ADR-002: Use Terraform Stack to Bootstrap Remote Backends

**Status:** Accepted
**Date:** 2025-10-14

### Context

Each stack stores its Terraform state remotely in S3.
Initially, the backend bucket did not exist, requiring manual pre-setup or ad-hoc SDK creation.

###  Decision

Introduce a dedicated core-services/state-file stack responsible for provisioning the S3 backend and related infrastructure (Object Lock, versioning, etc.).
This stack runs locally first (using the local backend), applies its resources, and then migrates its state to the new remote backend.

###  Consequences

Bootstrapping is declarative, reproducible, and managed by Terraform itself.
No AWS SDK logic in Go â€” all infrastructure defined as code.
Enables fully automated, environment-agnostic backend creation.
Requires orchestration wrapper to temporarily disable/restore backend.tf.